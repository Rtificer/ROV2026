<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=11" />
  <meta name="generator" content="Doxygen 1.9.8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ROV2026: rov_controllers::PidController Class Reference</title>
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
  <script type="text/javascript" src="darkmode_toggle.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript">
    // Force dark mode as default if no preference is set
    if (window.matchMedia && !localStorage.getItem('doxygen-awesome-dark-mode')) {
      if (!window.matchMedia('(prefers-color-scheme: dark)').matches) {
        localStorage.setItem('doxygen-awesome-dark-mode', 'dark');
      }
    }
  </script>
  <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
  </script>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr id="projectrow">
              <td id="projectalign">
                <div id="projectname">ROV2026
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- end header part --><!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classrov__controllers_1_1PidController.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classrov__controllers_1_1PidController-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">rov_controllers::PidController Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="thruster__pid__controller_8hpp_source.html">thruster_pid_controller.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for rov_controllers::PidController:</div>
<div class="dyncontent">
<div class="center"><img src="classrov__controllers_1_1PidController__inherit__graph.png" border="0" usemap="#arov__controllers_1_1PidController_inherit__map" alt="Inheritance graph"/></div>
<map name="arov__controllers_1_1PidController_inherit__map" id="arov__controllers_1_1PidController_inherit__map">
<area shape="rect" title=" " alt="" coords="5,93,216,119"/>
<area shape="rect" title=" " alt="" coords="35,5,187,45"/>
<area shape="poly" title=" " alt="" coords="113,59,113,93,108,93,108,59"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for rov_controllers::PidController:</div>
<div class="dyncontent">
<div class="center"><img src="classrov__controllers_1_1PidController__coll__graph.png" border="0" usemap="#arov__controllers_1_1PidController_coll__map" alt="Collaboration graph"/></div>
<map name="arov__controllers_1_1PidController_coll__map" id="arov__controllers_1_1PidController_coll__map">
<area shape="rect" title=" " alt="" coords="5,93,216,119"/>
<area shape="rect" title=" " alt="" coords="35,5,187,45"/>
<area shape="poly" title=" " alt="" coords="113,59,113,93,108,93,108,59"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7df0a4ac961f4f7120004ac22605ec71" id="r_a7df0a4ac961f4f7120004ac22605ec71"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#a7df0a4ac961f4f7120004ac22605ec71">PidController</a> ()</td></tr>
<tr class="separator:a7df0a4ac961f4f7120004ac22605ec71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f43cf7cab33e7faad4e8e92db582437" id="r_a6f43cf7cab33e7faad4e8e92db582437"><td class="memItemLeft" align="right" valign="top">controller_interface::InterfaceConfiguration&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#a6f43cf7cab33e7faad4e8e92db582437">command_interface_configuration</a> () const override</td></tr>
<tr class="separator:a6f43cf7cab33e7faad4e8e92db582437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaadeafef93e2c0d74bab3474b0136b5" id="r_acaadeafef93e2c0d74bab3474b0136b5"><td class="memItemLeft" align="right" valign="top">controller_interface::InterfaceConfiguration&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#acaadeafef93e2c0d74bab3474b0136b5">state_interface_configuration</a> () const override</td></tr>
<tr class="separator:acaadeafef93e2c0d74bab3474b0136b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af39f4ea18c51976d793c5edbf46db945" id="r_af39f4ea18c51976d793c5edbf46db945"><td class="memItemLeft" align="right" valign="top">controller_interface::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#af39f4ea18c51976d793c5edbf46db945">on_init</a> () override</td></tr>
<tr class="memdesc:af39f4ea18c51976d793c5edbf46db945"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare controller parameters and perform initial setup.  <br /></td></tr>
<tr class="separator:af39f4ea18c51976d793c5edbf46db945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa800b128f11ee18746b64106a0bdd9cb" id="r_aa800b128f11ee18746b64106a0bdd9cb"><td class="memItemLeft" align="right" valign="top">controller_interface::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#aa800b128f11ee18746b64106a0bdd9cb">on_configure</a> (const rclcpp_lifecycle::State &amp;) override</td></tr>
<tr class="memdesc:aa800b128f11ee18746b64106a0bdd9cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve and configure controller parameters from the ROS parameter server.  <br /></td></tr>
<tr class="separator:aa800b128f11ee18746b64106a0bdd9cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3beb1f80e56bcecb9e59519fedc928ed" id="r_a3beb1f80e56bcecb9e59519fedc928ed"><td class="memItemLeft" align="right" valign="top">controller_interface::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#a3beb1f80e56bcecb9e59519fedc928ed">on_activate</a> (const rclcpp_lifecycle::State &amp;previous_state) override</td></tr>
<tr class="separator:a3beb1f80e56bcecb9e59519fedc928ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a230b48d219e5ff858dfcdcf8c8d41520" id="r_a230b48d219e5ff858dfcdcf8c8d41520"><td class="memItemLeft" align="right" valign="top">controller_interface::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#a230b48d219e5ff858dfcdcf8c8d41520">on_deactivate</a> (const rclcpp_lifecycle::State &amp;previous_state) override</td></tr>
<tr class="separator:a230b48d219e5ff858dfcdcf8c8d41520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8fc8949920b632ba47fcd086b77c021" id="r_ab8fc8949920b632ba47fcd086b77c021"><td class="memItemLeft" align="right" valign="top">controller_interface::return_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#ab8fc8949920b632ba47fcd086b77c021">update</a> (const rclcpp::Time &amp;time, const rclcpp::Duration &amp;period) override</td></tr>
<tr class="memdesc:ab8fc8949920b632ba47fcd086b77c021"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute and publish the desired wrench using PID controllers for each DOF.  <br /></td></tr>
<tr class="separator:ab8fc8949920b632ba47fcd086b77c021"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ac9f3506596fb6bb5cdb7a62657dab403" id="r_ac9f3506596fb6bb5cdb7a62657dab403"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#ac9f3506596fb6bb5cdb7a62657dab403">dof_names_</a></td></tr>
<tr class="separator:ac9f3506596fb6bb5cdb7a62657dab403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d8b3df76cb41a22e207e44d7c8b2082" id="r_a7d8b3df76cb41a22e207e44d7c8b2082"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::shared_ptr&lt; control_toolbox::Pid &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#a7d8b3df76cb41a22e207e44d7c8b2082">pids_</a></td></tr>
<tr class="separator:a7d8b3df76cb41a22e207e44d7c8b2082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a277fb975658da95b6a826c26e244bb4b" id="r_a277fb975658da95b6a826c26e244bb4b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#a277fb975658da95b6a826c26e244bb4b">reference_topic_</a></td></tr>
<tr class="separator:a277fb975658da95b6a826c26e244bb4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31fb0de97413fdced248507d77f3568f" id="r_a31fb0de97413fdced248507d77f3568f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#a31fb0de97413fdced248507d77f3568f">output_topic_</a></td></tr>
<tr class="separator:a31fb0de97413fdced248507d77f3568f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02b213fef27c5a56d514c3d974a89598" id="r_a02b213fef27c5a56d514c3d974a89598"><td class="memItemLeft" align="right" valign="top">geometry_msgs::msg::Twist&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#a02b213fef27c5a56d514c3d974a89598">ref_</a></td></tr>
<tr class="separator:a02b213fef27c5a56d514c3d974a89598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f27e6f4e04d20bf01bf7e565dcbd490" id="r_a7f27e6f4e04d20bf01bf7e565dcbd490"><td class="memItemLeft" align="right" valign="top">geometry_msgs::msg::Twist&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#a7f27e6f4e04d20bf01bf7e565dcbd490">state_</a></td></tr>
<tr class="separator:a7f27e6f4e04d20bf01bf7e565dcbd490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41a96abbaefa830f142289495a67a46f" id="r_a41a96abbaefa830f142289495a67a46f"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#a41a96abbaefa830f142289495a67a46f">data_mutex_</a></td></tr>
<tr class="separator:a41a96abbaefa830f142289495a67a46f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a9f12b1a71e3e6b4b70312748e1bf5" id="r_a97a9f12b1a71e3e6b4b70312748e1bf5"><td class="memItemLeft" align="right" valign="top">rclcpp::Subscription&lt; geometry_msgs::msg::Twist &gt;::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#a97a9f12b1a71e3e6b4b70312748e1bf5">ref_sub_</a></td></tr>
<tr class="separator:a97a9f12b1a71e3e6b4b70312748e1bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae120e4ac8270c60ad4c82c925e2b7f7" id="r_aae120e4ac8270c60ad4c82c925e2b7f7"><td class="memItemLeft" align="right" valign="top">rclcpp::Subscription&lt; sensor_msgs::msg::Imu &gt;::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#aae120e4ac8270c60ad4c82c925e2b7f7">imu_sub_</a></td></tr>
<tr class="separator:aae120e4ac8270c60ad4c82c925e2b7f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16747f1d77cca699d4f8a89b7b0bb703" id="r_a16747f1d77cca699d4f8a89b7b0bb703"><td class="memItemLeft" align="right" valign="top">rclcpp::Publisher&lt; geometry_msgs::msg::Wrench &gt;::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#a16747f1d77cca699d4f8a89b7b0bb703">wrench_pub_</a></td></tr>
<tr class="separator:a16747f1d77cca699d4f8a89b7b0bb703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc838c2917e71775f792f91c0494bb7f" id="r_adc838c2917e71775f792f91c0494bb7f"><td class="memItemLeft" align="right" valign="top">rclcpp::Time&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrov__controllers_1_1PidController.html#adc838c2917e71775f792f91c0494bb7f">last_imu_time_</a> {0, 0, RCL_ROS_TIME}</td></tr>
<tr class="separator:adc838c2917e71775f792f91c0494bb7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7df0a4ac961f4f7120004ac22605ec71" name="a7df0a4ac961f4f7120004ac22605ec71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7df0a4ac961f4f7120004ac22605ec71">&#9670;&#160;</a></span>PidController()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rov_controllers::PidController::PidController </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6f43cf7cab33e7faad4e8e92db582437" name="a6f43cf7cab33e7faad4e8e92db582437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f43cf7cab33e7faad4e8e92db582437">&#9670;&#160;</a></span>command_interface_configuration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">controller_interface::InterfaceConfiguration rov_controllers::PidController::command_interface_configuration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3beb1f80e56bcecb9e59519fedc928ed" name="a3beb1f80e56bcecb9e59519fedc928ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3beb1f80e56bcecb9e59519fedc928ed">&#9670;&#160;</a></span>on_activate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">controller_interface::CallbackReturn rov_controllers::PidController::on_activate </td>
          <td>(</td>
          <td class="paramtype">const rclcpp_lifecycle::State &amp;&#160;</td>
          <td class="paramname"><em>previous_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa800b128f11ee18746b64106a0bdd9cb" name="aa800b128f11ee18746b64106a0bdd9cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa800b128f11ee18746b64106a0bdd9cb">&#9670;&#160;</a></span>on_configure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">controller_interface::CallbackReturn rov_controllers::PidController::on_configure </td>
          <td>(</td>
          <td class="paramtype">const rclcpp_lifecycle::State &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve and configure controller parameters from the ROS parameter server. </p>
<p>This method is called when the controller transitions to the "configured" state. It loads all required parameters, initializes PID controllers for each degree of freedom (DOF), and sets up ROS publishers and subscribers.</p>
<p>The following parameters are retrieved: </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dof_names</td><td>Vector of strings. Names of the degrees of freedom to control. </td></tr>
    <tr><td class="paramname">reference_topic</td><td>String. Topic name for the desired velocity input. </td></tr>
    <tr><td class="paramname">state_topic</td><td>String. Topic name for the current velocity input. </td></tr>
    <tr><td class="paramname">output_topic</td><td>String. Topic name for the desired wrench output.</td></tr>
  </table>
  </dd>
</dl>
<p>For each DOF in <code>dof_names</code>, the following PID gain parameters are also retrieved:</p><ul>
<li>gains.&lt;dof&gt;.p (double) Proportional gain</li>
<li>gains.&lt;dof&gt;.i (double) Integral gain</li>
<li>gains.&lt;dof&gt;.d (double) Derivative gain</li>
<li>gains.&lt;dof&gt;.i_clamp_max (double) Maximum integral clamp</li>
<li>gains.&lt;dof&gt;.i_clamp_min (double) Minimum integral clamp</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The previous lifecycle state (unused). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CallbackReturn::SUCCESS if configuration is successful, CallbackReturn::ERROR otherwise. </dd></dl>

</div>
</div>
<a id="a230b48d219e5ff858dfcdcf8c8d41520" name="a230b48d219e5ff858dfcdcf8c8d41520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a230b48d219e5ff858dfcdcf8c8d41520">&#9670;&#160;</a></span>on_deactivate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">controller_interface::CallbackReturn rov_controllers::PidController::on_deactivate </td>
          <td>(</td>
          <td class="paramtype">const rclcpp_lifecycle::State &amp;&#160;</td>
          <td class="paramname"><em>previous_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af39f4ea18c51976d793c5edbf46db945" name="af39f4ea18c51976d793c5edbf46db945"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af39f4ea18c51976d793c5edbf46db945">&#9670;&#160;</a></span>on_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">controller_interface::CallbackReturn rov_controllers::PidController::on_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Declare controller parameters and perform initial setup. </p>
<p>This method is called once when the controller is created. It declares all configurable parameters required for the PID controller. No hardware or ROS interfaces are accessed at this stage.</p>
<p>The following parameters are declared: </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dof_names</td><td>Vector of strings. Names of the degrees of freedom to control (default: {"surge", "sway", "heave", "roll", "pitch", "yaw"}). </td></tr>
    <tr><td class="paramname">reference_topic</td><td>String. Topic name for the desired velocity input (default: "/desired_velocity"). </td></tr>
    <tr><td class="paramname">state_topic</td><td>String. Topic name for the current velocity input (default: "/current_velocity"). </td></tr>
    <tr><td class="paramname">output_topic</td><td>String. Topic name for the desired wrench output (default: "/desired_wrench").</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CallbackReturn::SUCCESS if initialization is successful. </dd></dl>

</div>
</div>
<a id="acaadeafef93e2c0d74bab3474b0136b5" name="acaadeafef93e2c0d74bab3474b0136b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaadeafef93e2c0d74bab3474b0136b5">&#9670;&#160;</a></span>state_interface_configuration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">controller_interface::InterfaceConfiguration rov_controllers::PidController::state_interface_configuration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab8fc8949920b632ba47fcd086b77c021" name="ab8fc8949920b632ba47fcd086b77c021"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8fc8949920b632ba47fcd086b77c021">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">controller_interface::return_type rov_controllers::PidController::update </td>
          <td>(</td>
          <td class="paramtype">const rclcpp::Time &amp;&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const rclcpp::Duration &amp;&#160;</td>
          <td class="paramname"><em>period</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute and publish the desired wrench using PID controllers for each DOF. </p>
<p>This method is called periodically to update the controller output. It computes the error between the reference and state for each degree of freedom (DOF), applies the corresponding PID controller, and publishes the resulting wrench.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The current time. </td></tr>
    <tr><td class="paramname">period</td><td>The time elapsed since the last update.</td></tr>
  </table>
  </dd>
</dl>
<p>Internal parameters and topics used:</p><ul>
<li><code>ref_</code> The latest reference (desired) velocity (geometry_msgs::msg::Twist).</li>
<li><code>state_</code> The latest measured (current) velocity (geometry_msgs::msg::Twist).</li>
<li><code>pids_</code> Vector of PID controllers, one for each DOF.</li>
<li><code>wrench_pub_</code> Publisher for the computed wrench (geometry_msgs::msg::Wrench).</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>controller_interface::return_type::OK if successful. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a41a96abbaefa830f142289495a67a46f" name="a41a96abbaefa830f142289495a67a46f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41a96abbaefa830f142289495a67a46f">&#9670;&#160;</a></span>data_mutex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex rov_controllers::PidController::data_mutex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac9f3506596fb6bb5cdb7a62657dab403" name="ac9f3506596fb6bb5cdb7a62657dab403"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9f3506596fb6bb5cdb7a62657dab403">&#9670;&#160;</a></span>dof_names_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; rov_controllers::PidController::dof_names_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aae120e4ac8270c60ad4c82c925e2b7f7" name="aae120e4ac8270c60ad4c82c925e2b7f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae120e4ac8270c60ad4c82c925e2b7f7">&#9670;&#160;</a></span>imu_sub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::Subscription&lt;sensor_msgs::msg::Imu&gt;::SharedPtr rov_controllers::PidController::imu_sub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adc838c2917e71775f792f91c0494bb7f" name="adc838c2917e71775f792f91c0494bb7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc838c2917e71775f792f91c0494bb7f">&#9670;&#160;</a></span>last_imu_time_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::Time rov_controllers::PidController::last_imu_time_ {0, 0, RCL_ROS_TIME}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a31fb0de97413fdced248507d77f3568f" name="a31fb0de97413fdced248507d77f3568f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31fb0de97413fdced248507d77f3568f">&#9670;&#160;</a></span>output_topic_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string rov_controllers::PidController::output_topic_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7d8b3df76cb41a22e207e44d7c8b2082" name="a7d8b3df76cb41a22e207e44d7c8b2082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d8b3df76cb41a22e207e44d7c8b2082">&#9670;&#160;</a></span>pids_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::shared_ptr&lt;control_toolbox::Pid&gt; &gt; rov_controllers::PidController::pids_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a02b213fef27c5a56d514c3d974a89598" name="a02b213fef27c5a56d514c3d974a89598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02b213fef27c5a56d514c3d974a89598">&#9670;&#160;</a></span>ref_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">geometry_msgs::msg::Twist rov_controllers::PidController::ref_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a97a9f12b1a71e3e6b4b70312748e1bf5" name="a97a9f12b1a71e3e6b4b70312748e1bf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97a9f12b1a71e3e6b4b70312748e1bf5">&#9670;&#160;</a></span>ref_sub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::Subscription&lt;geometry_msgs::msg::Twist&gt;::SharedPtr rov_controllers::PidController::ref_sub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a277fb975658da95b6a826c26e244bb4b" name="a277fb975658da95b6a826c26e244bb4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a277fb975658da95b6a826c26e244bb4b">&#9670;&#160;</a></span>reference_topic_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string rov_controllers::PidController::reference_topic_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7f27e6f4e04d20bf01bf7e565dcbd490" name="a7f27e6f4e04d20bf01bf7e565dcbd490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f27e6f4e04d20bf01bf7e565dcbd490">&#9670;&#160;</a></span>state_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">geometry_msgs::msg::Twist rov_controllers::PidController::state_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a16747f1d77cca699d4f8a89b7b0bb703" name="a16747f1d77cca699d4f8a89b7b0bb703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16747f1d77cca699d4f8a89b7b0bb703">&#9670;&#160;</a></span>wrench_pub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::Publisher&lt;geometry_msgs::msg::Wrench&gt;::SharedPtr rov_controllers::PidController::wrench_pub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/rov_control/include/rov_control/<a class="el" href="thruster__pid__controller_8hpp_source.html">thruster_pid_controller.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacerov__controllers.html">rov_controllers</a></li><li class="navelem"><a class="el" href="classrov__controllers_1_1PidController.html">PidController</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
